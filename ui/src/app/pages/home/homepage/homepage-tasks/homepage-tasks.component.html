<nz-page-header [nzGhost]="false">
  <nz-page-header-title></nz-page-header-title>
  <nz-page-header-subtitle></nz-page-header-subtitle>
  <nz-page-header-extra>
    <nz-select [(ngModel)]="stateNumber" (ngModelChange)="changePage(0)">
      <nz-option [nzValue]=-1 nzLabel="全部状态"></nz-option>
      <nz-option [nzValue]=0 nzLabel="没有进展"></nz-option>
      <nz-option [nzValue]=1 nzLabel="即将开始"></nz-option>
      <nz-option [nzValue]=2 nzLabel="进行中"></nz-option>
      <nz-option [nzValue]=3 nzLabel="完成"></nz-option>
      <nz-option [nzValue]=4 nzLabel="取消"></nz-option>
      <nz-option [nzValue]=5 nzLabel="暂停"></nz-option>
    </nz-select>
    <button nz-button nzType="primary" (click)="changePage(-1)"><i nz-icon nzType="left"></i>前一页</button>
    <button nz-button nzType="primary" (click)="changePage(1)">后一页<i nz-icon nzType="right"></i></button>
  </nz-page-header-extra>
</nz-page-header>
<div nz-row [nzGutter]="8" style="min-height: 400px;">
  <div nz-col [nzSpan]="12" style="margin-top:10px;" *ngFor="let task of tasks">
    <nz-card [nzTitle]="nzTitle" style="height: 200px;overflow-y:scroll">
      <ng-template #nzTitle><a routerLink="/task/{{task.id}}"> {{ task.title }}</a> <i style="float: right;">{{task.create_time | relativeTime}}</i></ng-template>

      <nz-tag [nzColor]="'#3D59AB'" *ngIf="task.importance == 1">不重要</nz-tag>
      <nz-tag [nzColor]="'#33A1C9'" *ngIf="task.importance == 2">一般重要</nz-tag>
      <nz-tag [nzColor]="'#03A89E'" *ngIf="task.importance == 3">重要</nz-tag>
      <nz-tag [nzColor]="'#00C78C'" *ngIf="task.importance == 4">很重要</nz-tag>
      <nz-tag [nzColor]="'#1E90FF'" *ngIf="task.importance == 5">极其重要</nz-tag>

      <nz-tag [nzColor]="'#DDA0DD'" *ngIf="task.priority == 1">不紧急</nz-tag>
      <nz-tag [nzColor]="'#DA70D6'" *ngIf="task.priority == 2">一般紧急</nz-tag>
      <nz-tag [nzColor]="'#A066D3'" *ngIf="task.priority == 3">紧急</nz-tag>
      <nz-tag [nzColor]="'#8A2BE2'" *ngIf="task.priority == 4">很紧急</nz-tag>
      <nz-tag [nzColor]="'#9933FA'" *ngIf="task.priority == 5">极其紧急</nz-tag>

      <nz-tag [nzColor]="'#FFB6C1'" *ngIf="task.state == 0">没有进展</nz-tag>
      <nz-tag [nzColor]="'#FFD700'" *ngIf="task.state == 1">即将开始</nz-tag>
      <nz-tag [nzColor]="'#32CD32'" *ngIf="task.state == 2">进行中</nz-tag>
      <nz-tag [nzColor]="'#228B22'" *ngIf="task.state == 3">完成</nz-tag>
      <nz-tag [nzColor]="'#E3170D'" *ngIf="task.state == 4">取消</nz-tag>
      <nz-tag [nzColor]="'#FFD71f'" *ngIf="task.state == 5">暂停</nz-tag>
      <quill-view [content]="task.desc" format="text" theme="snow"></quill-view>
    </nz-card>
  </div>
</div>
